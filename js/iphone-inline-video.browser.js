var makeVideoPlayableInline=function(){"use strict";function e(e){var n={start:function r(){if(!n.lastCall){n.lastCall=Date.now()}var r=Date.now()-n.lastCall;n.id=requestAnimationFrame(n.start);n.lastCall=Date.now();e(r)},stop:function t(){cancelAnimationFrame(n.id);delete n.id;delete n.lastCall}};return n}function n(e,n,r,t){var i=function a(n){var i=r&&e[r];delete e[r];if(Boolean(i)===Boolean(t)){n.stopImmediatePropagation()}};e.addEventListener(n,i,false);return{forget:function u(){return e.removeEventListener(n,i,false)}}}function r(e,n,r){Object.defineProperty(e,n,{get:function t(){return r[n]},set:function i(e){r[n]=e}})}var t=window.Symbol||function(e){return"@"+(e?e:"@")+Math.random().toString(26)};var i=/iPhone|iPod/i.test(navigator.userAgent);var a=t("iiv");var u=t("iive");var d=t("native-play");var o=t("native-pause");function s(e){var n=new Audio;n.src=e.currentSrc||e.src;return n}var v=Array(3);v.i=0;function l(e,n){n=Math.min(e.duration,n);e.currentTime=n;v[++v.i%3]=n*100|0/100}function f(e){var n=this;if(n.hasAudio){l(n.video,n.driver.currentTime)}else{l(n.video,n.video.currentTime+e/1e3)}if(n.video.ended){n.video.pause();return false}}function c(){var e=this;var n=e[a];if(e.webkitDisplayingFullscreen){e[d]();return}if(!e.buffered.length){e.load()}n.driver.play();n.updater.start();e.dispatchEvent(new Event("play"));e.dispatchEvent(new Event("playing"))}function p(){var e=this;var n=e[a];n.updater.stop();n.driver.pause();e.dispatchEvent(new Event("pause"));if(e.ended){e[u]=true;e.dispatchEvent(new Event("ended"))}if(e.webkitDisplayingFullscreen){e[o]()}}function m(n,r){var t=n[a]={};t.hasAudio=r;t.video=n;t.updater=e(f.bind(t));if(r){t.driver=s(n)}else{t.driver={muted:true,paused:true,pause:function i(){t.driver.paused=true},play:function u(){t.driver.paused=false;if(n.currentTime===n.duration){n.currentTime=0}}}}n.addEventListener("webkitbeginfullscreen",function(){if(!n.paused){n.pause();n[d]()}else if(r&&!t.driver.buffered.length){t.driver.load()}});if(r){n.addEventListener("webkitendfullscreen",function(){t.driver.currentTime=t.video.currentTime});n.addEventListener("seeking",function(){if(v.indexOf(t.video.currentTime*100|0/100)>=0){return}t.driver.currentTime=t.video.currentTime})}}function g(e){var t=e[a];e[d]=e.play;e[o]=e.pause;e.play=c;e.pause=p;r(e,"paused",t.driver);r(e,"muted",t.driver);n(e,"seeking");n(e,"seeked");n(e,"ended",u,false)}function h(e){var n=arguments.length<=1||arguments[1]===undefined?true:arguments[1];var r=arguments.length<=2||arguments[2]===undefined?true:arguments[2];if(r&&!i){return}m(e,n);g(e);if(!n&&e.autoplay){e.play()}}return h}();
